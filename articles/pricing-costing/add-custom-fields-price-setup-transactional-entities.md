---
title: Addició de camps personalitzats obligatoris a la configuració de preus i a entitats transaccionals
description: En aquest tema es proporciona informació sobre com afegir referències de camps personalitzats obligatoris a entitats i a formularis i visualitzacions.
author: rumant
manager: AnnBe
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-customerservice
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: suvaidya
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: e589465eb98723b3b49c5d96e263eb3abf15eb2c
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: ca-ES
ms.lasthandoff: 10/16/2020
ms.locfileid: "4072252"
---
# <a name="add-required-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="ec80f-103">Addició de camps personalitzats obligatoris a la configuració de preus i a entitats transaccionals</span><span class="sxs-lookup"><span data-stu-id="ec80f-103">Add required custom fields to price setup and transactional entities</span></span>

<span data-ttu-id="ec80f-104">_**S'aplica a:** Project Operations per a escenaris basats en recursos/sense cotització, implementació lleugera per a la facturació proforma_</span><span class="sxs-lookup"><span data-stu-id="ec80f-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="ec80f-105">En aquest tema s'assumeix que heu completat els procediments en el tema [Crear camps i entitats personalitzats per utilitzar-los com a dimensions de preus](create-custom-fields-entities-pricing-dimensions.md).</span><span class="sxs-lookup"><span data-stu-id="ec80f-105">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities to be used as pricing dimensions](create-custom-fields-entities-pricing-dimensions.md).</span></span> <span data-ttu-id="ec80f-106">Si no heu completat aquests procediments, aneu enrere per completar-los torneu a aquest tema.</span><span class="sxs-lookup"><span data-stu-id="ec80f-106">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="ec80f-107">En aquest tema, els procediments us mostraran com afegir les referències de camp personalitzades necessàries a les entitats i als elements de la interfície d'usuari (IU), com ara formularis i visualitzacions.</span><span class="sxs-lookup"><span data-stu-id="ec80f-107">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="ec80f-108">Afegeix camps de dimensió de preus personalitzats</span><span class="sxs-lookup"><span data-stu-id="ec80f-108">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="ec80f-109">Quan s'han creat camps i entitats personalitzats, el pas següent és fer que les entitats de configuració de preus i transaccionals reconeguin qualsevol entitat o conjunt d'opcions personalitzades creant camps de referència.</span><span class="sxs-lookup"><span data-stu-id="ec80f-109">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="ec80f-110">En funció de si la llista de dimensions de preus de preus inclou dimensions o dimensions de l'entitat de conjunt d'opcions o ambdues, seguiu només els passos a **Dimensions de preus personalitzades basades en el conjunt d'opcions** o **Dimensions de preus personalitzades basades en l'entitat** , o ambdues, respectivament.</span><span class="sxs-lookup"><span data-stu-id="ec80f-110">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions** , or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="ec80f-111">Dimensions de preus personalitzades basades en conjunts d'opcions</span><span class="sxs-lookup"><span data-stu-id="ec80f-111">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="ec80f-112">Quan una dimensió de preus personalitzada està basada en un conjunt d'opcions, afegiu-la com a camp a entitats clau.</span><span class="sxs-lookup"><span data-stu-id="ec80f-112">When a custom pricing dimension is option set-based, add it as a field to key entities.</span></span> <span data-ttu-id="ec80f-113">En el procediment següent, s'utilitzen **Ubicació de treball del recurs** i **Hores de treball del recurs** com a dimensions de preu basades en un conjunt d'opcions.</span><span class="sxs-lookup"><span data-stu-id="ec80f-113">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="ec80f-114">Primer s'han d'afegir com a camps a les entitats de preus, **Preu per funció** i **Marge comercial del preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-114">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="ec80f-115">Al Project Operations, seleccioneu **Configuració** > **Solucions** i feu doble clic a **Dimensions de preus de \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-115">In Project operations, select **Settings** > **Solutions** , and double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="ec80f-116">A l'Explorador de solucions, a la subfinestra de navegació esquerra, seleccioneu **Entitats > Preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-116">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="ec80f-117">Expandiu l'entitat **Preu per funció** i seleccioneu **Camps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-117">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="ec80f-118">Seleccioneu **Nou** per crear un camp nou anomenat **Ubicació de treball del recurs** i seleccioneu **Conjunt d'opcions** com a tipus de camp.</span><span class="sxs-lookup"><span data-stu-id="ec80f-118">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="ec80f-119">Seleccioneu **Utilitza una conjunt d'opcions existent** , seleccioneu el conjunt d'opcions **Ubicació de treball del recurs** i, a continuació, seleccioneu **Desa**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-119">Select **Use an existing Option set** , select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="ec80f-120">Repetiu els passos 1-5 per afegir aquest camp a l'entitat **Marge comercial del preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-120">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="ec80f-121">Repetiu els passos 1-5 per al conjunt d'opcions **Hores de treball del recurs**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-121">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ec80f-122">Quan afegiu un camp a més d'una entitat, utilitzeu el mateix nom de camp a totes les entitats.</span><span class="sxs-lookup"><span data-stu-id="ec80f-122">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

<span data-ttu-id="ec80f-123">En les fases de vendes i estimació d'un projecte, les estimacions de l'esforç de treball necessari per completar treball **Local** i **In situ** a **Hores normals** i **Hores extres** s'utilitzen per calcular el valor de l'oferta o el projecte.</span><span class="sxs-lookup"><span data-stu-id="ec80f-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="ec80f-124">S'afegiran els camps **Ubicació de treball del recurs** i **Hores de treball del recurs** a les entitats d'estimació, **Detall de la línia d'oferta** , **Detall de la línia de contracte** , **Membre de l'equip del projecte** i **Línia d'estimació**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail** , **Contract Line detail** , **Project Team Member** , and **Estimate Line**.</span></span>

1. <span data-ttu-id="ec80f-125">Al Project Operations, seleccioneu **Configuració** > **Solucions** i feu doble clic a **Dimensions de preus de \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-125">In Project operations, select **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="ec80f-126">A l'Explorador de solucions, a la subfinestra de navegació esquerra, seleccioneu **Entitats > Detall de la línia d'oferta**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="ec80f-127">Expandiu l'entitat **Detall de la línia d'oferta** i seleccioneu **Camps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="ec80f-128">Seleccioneu **Nou** per crear un camp nou anomenat **Ubicació de treball del recurs** i seleccioneu el tipus de camp **Conjunt d'opcions**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-128">Select **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="ec80f-129">Seleccioneu **Utilitza una conjunt d'opcions existent** i **Ubicació de treball del recurs** i, a continuació, seleccioneu **Desa**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-129">Select **Use an existing Option set** and **Resource Work Location** , and then select **Save**.</span></span>
6. <span data-ttu-id="ec80f-130">Repetiu els passos 1-5 per afegir aquest camp a les entitats **Detall de la línia de contracte del projecte** , **Membre de l'equip del projecte** i **Línia d'estimació**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail** , **Project Team Member** , and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="ec80f-131">Repetiu els passos 1-6 per al conjunt d'opcions **Hores de treball del recurs**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

<span data-ttu-id="ec80f-132">Per al lliurament i la facturació, el treball completat ha de tenir un preu precís per seleccionar si s'ha realitzat **Local** o **In situ** , i si es va completar durant **Hores normals** o **Hores extres** a Valors reals del projecte.</span><span class="sxs-lookup"><span data-stu-id="ec80f-132">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite** , and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="ec80f-133">S'han d'afegir els camps **Ubicació de treball del recurs** i **Hores de treball del recurs** a les entitats **Entrada de temps** , **Valor real** , **Detall de la línia de factura** i **Línia del llibre diari**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-133">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line** entities.</span></span>

1. <span data-ttu-id="ec80f-134">Seleccioneu **Configuració** > **Solucions** i feu doble clic a **Dimensions de preus de \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-134">Select **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="ec80f-135">A l'Explorador de solucions, a la subfinestra de navegació esquerra, seleccioneu **Entitats > Entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-135">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="ec80f-136">Expandiu l'entitat **Detall de la línia d'oferta** i, a continuació, seleccioneu **Camps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-136">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="ec80f-137">Seleccioneu **Nou** per crear un camp nou anomenat **Ubicació de treball del recurs** i seleccioneu **Conjunt d'opcions** com a tipus de camp.</span><span class="sxs-lookup"><span data-stu-id="ec80f-137">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="ec80f-138">Seleccioneu **Utilitza una conjunt d'opcions existent** , seleccioneu el conjunt d'opcions **Ubicació de treball del recurs** i, a continuació, seleccioneu **Desa**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-138">Select **Use an existing Option set** , select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="ec80f-139">Repetiu els passos 1-5 per afegir aquest camp a les entitats **Valor real** , **Detall de la línia de factura** i **Línia del llibre diari**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-139">Repeat steps 1 - 5 to add this field to the **Actual** , **Invoice Line Detail** , and **Journal Line** entities.</span></span>
7. <span data-ttu-id="ec80f-140">Repetiu els passos 1-6 per al conjunt d'opcions **Hores de treball del recurs**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-140">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

<span data-ttu-id="ec80f-141">Això completa els canvis d'esquema necessaris per a les dimensions personalitzades basades en conjunts d'opcions.</span><span class="sxs-lookup"><span data-stu-id="ec80f-141">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="ec80f-142">Dimensions de preus personalitzades basades en entitats</span><span class="sxs-lookup"><span data-stu-id="ec80f-142">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="ec80f-143">Quan la dimensió de preus personalitzada és una entitat, hi afegireu relacions 1:N entre l'entitat de la dimensió i les entitats clau.</span><span class="sxs-lookup"><span data-stu-id="ec80f-143">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key entities.</span></span> <span data-ttu-id="ec80f-144">Utilitzant de l'exemple de càrrec estàndard anterior, és raonable esperar que cada empleat tingui assignat un càrrec estàndard.</span><span class="sxs-lookup"><span data-stu-id="ec80f-144">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="ec80f-145">Per tant, necessitareu una relació 1:N de Càrrec estàndard a Recurs que es pot reservar o una relació N:1 si s'ha creat des de Recurs que es pot reservar a Càrrec estàndard.</span><span class="sxs-lookup"><span data-stu-id="ec80f-145">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="ec80f-146">Al Project Operations, seleccioneu **Configuració** > **Solucions** i feu doble clic a **Dimensions de preus de \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-146">In Project operations, select **Settings** > **Solutions** , and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="ec80f-147">A l'Explorador de solucions, a la subfinestra de navegació esquerra, seleccioneu **Entitats > Càrrec estàndard**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-147">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="ec80f-148">Expandiu l'entitat **Càrrec estàndard** i seleccioneu **Relacions 1:N**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-148">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="ec80f-149">Seleccioneu **Nou** per crear una relació 1:N nova anomenada **Càrrec estàndard a Recurs que es pot reservar**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-149">Select **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="ec80f-150">Introduïu la informació requerida i seleccioneu **Desa**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-150">Enter the required information, and then select **Save**.</span></span>

<span data-ttu-id="ec80f-151">El Càrrec estàndard també s'haurà d'afegir a les entitats de preus, **Preu per funció** i **Marge comercial del preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-151">The Standard Title will also need to be added to Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="ec80f-152">Això també es completa utilitzant relacions 1:N entre les entitats **Càrrec estàndard** i **Preu per funció** i les entitats **Càrrec estàndard** i **Preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-152">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="ec80f-153">A l'Explorador de solucions, a la subfinestra de navegació esquerra, seleccioneu **Entitats > Càrrec estàndard**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-153">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="ec80f-154">Expandiu l'entitat **Càrrec estàndard** i seleccioneu **Relacions 1:N**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-154">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="ec80f-155">Seleccioneu **Nou** per crear una relació 1:N nova anomenada **Càrrec estàndard a Preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-155">Select **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="ec80f-156">Introduïu la informació requerida i seleccioneu **Desa**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-156">Enter the required information, and then select **Save**.</span></span>
4. <span data-ttu-id="ec80f-157">Repetiu els passos 1-4 per crear relacions 1:N entre les entitats **Càrrec estàndard** i **Marge comercial del preu per funció**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-157">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="ec80f-158">En les fases de vendes i estimació per al projecte, per posar un preu a l'oferta/projecte, les estimacions de l'esforç de treball són necessàries per a cada càrrec estàndard.</span><span class="sxs-lookup"><span data-stu-id="ec80f-158">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="ec80f-159">Això significa que les relacions 1:N des de Càrrec estàndard a cadascuna d'aquestes entitats d'estimació són necessàries:</span><span class="sxs-lookup"><span data-stu-id="ec80f-159">This means that 1:N relationships from Standard Title to each of these estimation entities are needed:</span></span> 

- <span data-ttu-id="ec80f-160">**Detall de la línia d'oferta**</span><span class="sxs-lookup"><span data-stu-id="ec80f-160">**Quote line Detail**</span></span>
- <span data-ttu-id="ec80f-161">**Detall de la línia de contracte del projecte**</span><span class="sxs-lookup"><span data-stu-id="ec80f-161">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="ec80f-162">**Membre de l'equip del projecte**</span><span class="sxs-lookup"><span data-stu-id="ec80f-162">**Project Team Member**</span></span>
- <span data-ttu-id="ec80f-163">**Línia d'estimació**</span><span class="sxs-lookup"><span data-stu-id="ec80f-163">**Estimate Line**</span></span>

5. <span data-ttu-id="ec80f-164">Repetiu els passos 1-5 per crear relacions 1:N des de **Càrrec estàndard** a **Detall de la línia d'oferta** , **Detall de la línia de contracte del projecte** , **Membre de l'equip del projecte** i **Línia d'estimació**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-164">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail** , **Project Contract Line Detail** , **Project Team Member** , and **Estimate Line**.</span></span>

  <span data-ttu-id="ec80f-165">En les fases de lliurament i de facturació, els treballs completats per cada càrrec estàndard han de tenir un preu precís a Valors reals del projecte.</span><span class="sxs-lookup"><span data-stu-id="ec80f-165">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="ec80f-166">Això vol dir que hi ha d'haver relacions 1:N des de **Càrrec estàndard** a les entitats **Entrada de temps** , **Valor real** , **Detall de la línia de factura** i **Línia del llibre diari**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-166">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line entities**.</span></span>

6. <span data-ttu-id="ec80f-167">Repetiu els passos 1-6 per crear relacions 1:N des de **Càrrec estàndard** a les entitats **Entrada de temps** , **Valor real** , **Detall de la línia de factura** i **Línia del llibre diari**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-167">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry** , **Actual** , **Invoice Line Detail** , and **Journal Line entities**.</span></span>

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="ec80f-168">Configurar el valor de la dimensió per defecte amb les característiques d'assignacions de la plataforma</span><span class="sxs-lookup"><span data-stu-id="ec80f-168">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="ec80f-169">Per a l'entrada de temps, seria útil tenir el valor per defecte del sistema a l'entrada de temps del recurs disponible que està registrant l'entrada de temps.</span><span class="sxs-lookup"><span data-stu-id="ec80f-169">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="ec80f-170">Seguiu aquests passos per afegir assignacions de camp a la relació 1:N des de **Recurs que es pot reservar** a **Entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-170">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="ec80f-171">A l'Explorador de solucions, a la subfinestra de navegació esquerra, seleccioneu **Entitats > Càrrec estàndard**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-171">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="ec80f-172">Expandiu l'entitat **Càrrec estàndard** i seleccioneu **Relacions 1:N**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-172">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="ec80f-173">Feu doble clic a **Recurs que es pot reservar a Entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-173">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="ec80f-174">A la pàgina **Relació** , seleccioneu **Utilitza assignacions de camps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-174">On the **Relationship** page, select **Use Field mappings**.</span></span> 
4. <span data-ttu-id="ec80f-175">Seleccioneu **Nou** per crear una assignació de camp nova entre el camp **Càrrec estàndard** a l'entitat **Recurs que es pot reservar** al camp de referència **Càrrec estàndard** a l'entitat **Entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-175">Select **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

<span data-ttu-id="ec80f-176">Això completa els canvis d'esquema necessaris per a les dimensions personalitzades basades en entitats.</span><span class="sxs-lookup"><span data-stu-id="ec80f-176">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="ec80f-177">Afegir camps personalitzats a formularis, visualitzacions i regles de negocis.</span><span class="sxs-lookup"><span data-stu-id="ec80f-177">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="ec80f-178">Després d'haver fet tots els canvis d'esquema necessaris, el pas següent és fer que els camps siguin visibles a la interfície d'usuari afegint els camps als formularis i a les visualitzacions.</span><span class="sxs-lookup"><span data-stu-id="ec80f-178">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="ec80f-179">Obriu el formulari o la visualització.</span><span class="sxs-lookup"><span data-stu-id="ec80f-179">Open the form or the view.</span></span> <span data-ttu-id="ec80f-180">A la subfinestra de navegació dreta, seleccioneu el camp i arrossegueu-lo al llenç del formulari.</span><span class="sxs-lookup"><span data-stu-id="ec80f-180">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="ec80f-181">Si esteu editant una visualització, utilitzeu la subfinestra de navegació dreta, seleccioneu **Afegeix camps** i, al quadre de diàleg **Llista de camps** , seleccioneu els camps que necessiteu i seleccioneu **D'acord**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-181">If you are editing a view, use the right navigation pane, select **Add fields** , and in the **Field listing** dialog box, select the fields that you need and select **Ok**.</span></span>

<span data-ttu-id="ec80f-182">La taula següent proporciona una llista exhaustiva dels formularis i les visualitzacions de fàbrica, llistats per entitat, que s'han d'actualitzar amb els nous camps.</span><span class="sxs-lookup"><span data-stu-id="ec80f-182">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="ec80f-183">Si teniu visualitzacions o formularis addicionals a les personalitzacions d'aquestes entitats, afegiu també els camps nous.</span><span class="sxs-lookup"><span data-stu-id="ec80f-183">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="ec80f-184">Entity</span><span class="sxs-lookup"><span data-stu-id="ec80f-184">Entity</span></span>        | <span data-ttu-id="ec80f-185">Formularis que necessiten el nou camp</span><span class="sxs-lookup"><span data-stu-id="ec80f-185">Forms that need the new field</span></span>   |<span data-ttu-id="ec80f-186">Visualitzacions que necessiten el nou camp</span><span class="sxs-lookup"><span data-stu-id="ec80f-186">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="ec80f-187">Preu per funció</span><span class="sxs-lookup"><span data-stu-id="ec80f-187">Role Price</span></span>|<span data-ttu-id="ec80f-188">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-188">• Information</span></span> |<span data-ttu-id="ec80f-189">• Preus de categories de recursos actius</span><span class="sxs-lookup"><span data-stu-id="ec80f-189">• Active Resource Category Prices</span></span><br> <span data-ttu-id="ec80f-190">• Visualització associada de preus de categories de recursos</span><span class="sxs-lookup"><span data-stu-id="ec80f-190">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="ec80f-191">Marge comercial de preu de funció</span><span class="sxs-lookup"><span data-stu-id="ec80f-191">Role Price Markup</span></span>|<span data-ttu-id="ec80f-192">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-192">• Information</span></span>|<span data-ttu-id="ec80f-193">• Marge comercial de preu de funcions actives</span><span class="sxs-lookup"><span data-stu-id="ec80f-193">• Active Role Price Markup</span></span><br><span data-ttu-id="ec80f-194">• Visualització associada de marge comercial de preus de la funció</span><span class="sxs-lookup"><span data-stu-id="ec80f-194">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="ec80f-195">Detall de la línia d'oferta</span><span class="sxs-lookup"><span data-stu-id="ec80f-195">Quote line detail</span></span>|<span data-ttu-id="ec80f-196">• Informació del projecte</span><span class="sxs-lookup"><span data-stu-id="ec80f-196">• Project Information</span></span><br><span data-ttu-id="ec80f-197">• Creació ràpida de projectes</span><span class="sxs-lookup"><span data-stu-id="ec80f-197">• Project Quick Create</span></span>|<span data-ttu-id="ec80f-198">• Detall de la línia d'oferta activa</span><span class="sxs-lookup"><span data-stu-id="ec80f-198">• Active Quote Line Detail</span></span><br><span data-ttu-id="ec80f-199">• Detalls de la línia d'oferta combinada</span><span class="sxs-lookup"><span data-stu-id="ec80f-199">• Combined Quote Line Details</span></span><br><span data-ttu-id="ec80f-200">• Visualització associada de detall de la línia d'oferta</span><span class="sxs-lookup"><span data-stu-id="ec80f-200">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="ec80f-201">Detall de la línia de contracte del projecte</span><span class="sxs-lookup"><span data-stu-id="ec80f-201">Project Contract line detail</span></span>|<span data-ttu-id="ec80f-202">• Informació del projecte</span><span class="sxs-lookup"><span data-stu-id="ec80f-202">• Project Information</span></span><br><span data-ttu-id="ec80f-203">• Creació ràpida de projectes</span><span class="sxs-lookup"><span data-stu-id="ec80f-203">• Project Quick Create</span></span>|<span data-ttu-id="ec80f-204">• Detalls de la línia de contracte combinada</span><span class="sxs-lookup"><span data-stu-id="ec80f-204">• Combined Contract Line Details</span></span><br><span data-ttu-id="ec80f-205">• Detalls de la línia de contracte activa</span><span class="sxs-lookup"><span data-stu-id="ec80f-205">• Active Contract Line Details</span></span><br><span data-ttu-id="ec80f-206">• Visualització associada de detalls de la línia de contracte</span><span class="sxs-lookup"><span data-stu-id="ec80f-206">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="ec80f-207">Membre de l'equip del projecte</span><span class="sxs-lookup"><span data-stu-id="ec80f-207">Project Team Member</span></span>|<span data-ttu-id="ec80f-208">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-208">• Information</span></span><br><span data-ttu-id="ec80f-209">• Formulari nou</span><span class="sxs-lookup"><span data-stu-id="ec80f-209">• New Form</span></span>|<span data-ttu-id="ec80f-210">• Membres de l'equip del projecte actius</span><span class="sxs-lookup"><span data-stu-id="ec80f-210">• Active Project Team Members</span></span><br><span data-ttu-id="ec80f-211">• Membres de l'equip del projecte</span><span class="sxs-lookup"><span data-stu-id="ec80f-211">• Project Team Members</span></span><br><span data-ttu-id="ec80f-212">• Visualització associada de membres de l'equip del projecte</span><span class="sxs-lookup"><span data-stu-id="ec80f-212">• Project Team members associated View</span></span>|
|  <span data-ttu-id="ec80f-213">Entrada de temps</span><span class="sxs-lookup"><span data-stu-id="ec80f-213">Time Entry</span></span>|<span data-ttu-id="ec80f-214">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-214">• Information</span></span><br><span data-ttu-id="ec80f-215">• Crear entrada de temps</span><span class="sxs-lookup"><span data-stu-id="ec80f-215">• Create Time Entry</span></span>|<span data-ttu-id="ec80f-216">• Les meves entrades de temps per data</span><span class="sxs-lookup"><span data-stu-id="ec80f-216">• My Time Entries By Date</span></span><br><span data-ttu-id="ec80f-217">• Les meves entrades de temps aquesta setmana</span><span class="sxs-lookup"><span data-stu-id="ec80f-217">• My time Entries for this week</span></span><br><span data-ttu-id="ec80f-218">• Entrades de temps pendents d'aprovació</span><span class="sxs-lookup"><span data-stu-id="ec80f-218">• Time entries for approval</span></span>|
|  <span data-ttu-id="ec80f-219">Línia del llibre diari</span><span class="sxs-lookup"><span data-stu-id="ec80f-219">Journal Line</span></span>|<span data-ttu-id="ec80f-220">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-220">• Information</span></span><br><span data-ttu-id="ec80f-221">• Creació ràpida:</span><span class="sxs-lookup"><span data-stu-id="ec80f-221">• Quick create</span></span>|<span data-ttu-id="ec80f-222">• Línies del llibre diari actives</span><span class="sxs-lookup"><span data-stu-id="ec80f-222">• Active journal lines</span></span><br><span data-ttu-id="ec80f-223">• Visualització associada de les línies del llibre diari</span><span class="sxs-lookup"><span data-stu-id="ec80f-223">• Journal Line associated view</span></span>|
|  <span data-ttu-id="ec80f-224">Detall de la línia de factura</span><span class="sxs-lookup"><span data-stu-id="ec80f-224">Invoice Line Detail</span></span>|<span data-ttu-id="ec80f-225">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-225">• Information</span></span><br><span data-ttu-id="ec80f-226">• Creació ràpida:</span><span class="sxs-lookup"><span data-stu-id="ec80f-226">• Quick create</span></span>|<span data-ttu-id="ec80f-227">• Detalls de la línia de factura activa</span><span class="sxs-lookup"><span data-stu-id="ec80f-227">• Active Invoice Line Details</span></span><br><span data-ttu-id="ec80f-228">• Transaccions de factura imputables</span><span class="sxs-lookup"><span data-stu-id="ec80f-228">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="ec80f-229">• Transaccions de factura gratuïtes</span><span class="sxs-lookup"><span data-stu-id="ec80f-229">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="ec80f-230">• Visualització associada de detall de la línia de factura</span><span class="sxs-lookup"><span data-stu-id="ec80f-230">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="ec80f-231">• Transaccions de factura no imputables</span><span class="sxs-lookup"><span data-stu-id="ec80f-231">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="ec80f-232">Real</span><span class="sxs-lookup"><span data-stu-id="ec80f-232">Actual</span></span>|<span data-ttu-id="ec80f-233">• Informació</span><span class="sxs-lookup"><span data-stu-id="ec80f-233">• Information</span></span><br><span data-ttu-id="ec80f-234">• Valors reals actius</span><span class="sxs-lookup"><span data-stu-id="ec80f-234">• Active Actuals</span></span>|<span data-ttu-id="ec80f-235">• Visualització associada de valors reals</span><span class="sxs-lookup"><span data-stu-id="ec80f-235">• Actual Associated view</span></span>|

<span data-ttu-id="ec80f-236">Els camps personalitzats també s'han d'afegir a les regles de negocis en funció del que hàgiu definit.</span><span class="sxs-lookup"><span data-stu-id="ec80f-236">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="ec80f-237">Un exemple de fàbrica és per a la regla de negocis **Capacitat d'edició de l'entrada de temps basada en l'estat**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-237">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="ec80f-238">Aquesta regla defineix quins camps s'han de blocar quan l'entrada de temps es troba en un estat no editable com ara **Aprovada**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-238">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="ec80f-239">Afegiu camps a aquesta regla de negocis per tal que els camps estiguin blocats per editar-se quan l'entrada de temps es trobi en un estat que no sigui **Esborrany** o **Retornada**.</span><span class="sxs-lookup"><span data-stu-id="ec80f-239">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
