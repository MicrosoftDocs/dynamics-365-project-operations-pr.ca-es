---
title: Ampliació d'entrades de temps
description: En aquest tema es proporciona informació sobre com els desenvolupadors poden ampliar el control d'entrada de temps.
author: stsporen
manager: Annbe
ms.date: 10/08/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: stsporen
ms.openlocfilehash: f446e24f3a61914a46a552fdc38b986d8b924747
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: ca-ES
ms.lasthandoff: 02/15/2021
ms.locfileid: "5277146"
---
# <a name="extending-time-entries"></a><span data-ttu-id="6a2f2-103">Ampliació d'entrades de temps</span><span class="sxs-lookup"><span data-stu-id="6a2f2-103">Extending time entries</span></span>

<span data-ttu-id="6a2f2-104">_**S'aplica a:** Project Operations per a escenaris basats en recursos/sense cotització, implementació lleugera per a la facturació proforma_</span><span class="sxs-lookup"><span data-stu-id="6a2f2-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="6a2f2-105">El Dynamics 365 Project Operations inclou un control personalitzat d'entrada de temps ampliable.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-105">Dynamics 365 Project Operations includes an extendable time entry custom control.</span></span> <span data-ttu-id="6a2f2-106">Aquest control inclou les funcions següents:</span><span class="sxs-lookup"><span data-stu-id="6a2f2-106">This control includes the following features:</span></span>

- <span data-ttu-id="6a2f2-107">Introducció de temps horitzontalment durant una setmana</span><span class="sxs-lookup"><span data-stu-id="6a2f2-107">Enter time horizontally over a week</span></span>
- <span data-ttu-id="6a2f2-108">Totals per dia, fila o setmana</span><span class="sxs-lookup"><span data-stu-id="6a2f2-108">Totals by day, row, or week</span></span>
- <span data-ttu-id="6a2f2-109">Còpia de files o setmanes</span><span class="sxs-lookup"><span data-stu-id="6a2f2-109">Copy rows or weeks</span></span>
- <span data-ttu-id="6a2f2-110">Entrada de temps mitjançant HH:mm o HH.hh (es converteix automàticament en HH.hh)</span><span class="sxs-lookup"><span data-stu-id="6a2f2-110">Time entry through HH:mm or HH.hh (automatically converts to HH.hh)</span></span>
- <span data-ttu-id="6a2f2-111">Importació a partir d'assignacions, reserves o cites</span><span class="sxs-lookup"><span data-stu-id="6a2f2-111">Import from assignments, bookings, or appointments</span></span>

<span data-ttu-id="6a2f2-112">L'ampliació de les entrades de temps és possible en dos àmbits:</span><span class="sxs-lookup"><span data-stu-id="6a2f2-112">Extending time entries is possible in two areas:</span></span>
- [<span data-ttu-id="6a2f2-113">Afegir entrades de temps personalitzades per a l'ús propi</span><span class="sxs-lookup"><span data-stu-id="6a2f2-113">Add custom time entries for your own use</span></span>](#add)
- [<span data-ttu-id="6a2f2-114">Personalització del control d'entrada de temps setmanal</span><span class="sxs-lookup"><span data-stu-id="6a2f2-114">Customize the weekly Time Entry control</span></span>](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a><span data-ttu-id="6a2f2-115">Afegir entrades de temps personalitzades per a l'ús propi</span><span class="sxs-lookup"><span data-stu-id="6a2f2-115">Add custom time entries for your own use</span></span>

<span data-ttu-id="6a2f2-116">Les entrades de temps són una entitat principal utilitzada en diversos escenaris.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-116">Time entries are a core entity used in multiple scenarios.</span></span> <span data-ttu-id="6a2f2-117">A la fase 1 d'abril de 2020, es va introduir la solució central de TESA.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-117">In April Wave 1 2020, the TESA core solution was introduced.</span></span> <span data-ttu-id="6a2f2-118">TESA proporciona una entitat **Configuració** i una nova funció de seguretat **Usuari d'entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-118">TESA provides a **Settings** entity and a new **Time Entry User** security role.</span></span> <span data-ttu-id="6a2f2-119">També s'hi han inclòs els nous camps, **msdyn_start** i **msdyn_end**, que tenen una relació directa amb **msdyn_duration**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-119">The new fields, **msdyn_start** and **msdyn_end**, which have a direct relation to **msdyn_duration**, were also included.</span></span> <span data-ttu-id="6a2f2-120">L'entitat nova, la funció de seguretat i els camps permeten una aproximació més unificada al temps en diversos productes.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-120">The new entity, security role, and fields allow for a more unified approach to time across multiple products.</span></span>


### <a name="time-source-entity"></a><span data-ttu-id="6a2f2-121">Entitat d'origen de temps</span><span class="sxs-lookup"><span data-stu-id="6a2f2-121">Time source entity</span></span>
| <span data-ttu-id="6a2f2-122">Camp</span><span class="sxs-lookup"><span data-stu-id="6a2f2-122">Field</span></span> | <span data-ttu-id="6a2f2-123">Descripció</span><span class="sxs-lookup"><span data-stu-id="6a2f2-123">Description</span></span> | 
|-------|------------|
| <span data-ttu-id="6a2f2-124">Nom</span><span class="sxs-lookup"><span data-stu-id="6a2f2-124">Name</span></span>  | <span data-ttu-id="6a2f2-125">El nom de l'entrada d'origen de temps que s'utilitza com a valor de la selecció quan es creen les entrades de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-125">The name of the Time source entry used as the selection value when creating time entries.</span></span> |
| <span data-ttu-id="6a2f2-126">Origen del temps per defecte [origen del temps: isdefault]</span><span class="sxs-lookup"><span data-stu-id="6a2f2-126">Default Time Source [Time Source: isdefault]</span></span> | <span data-ttu-id="6a2f2-127">Per defecte, només es pot marcar un origen de temps per al valor per defecte.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-127">By default, only one Time Source can be marked at the default.</span></span> <span data-ttu-id="6a2f2-128">Això permet que les entrades canviïn per defecte a un origen de temps si no s'especifica.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-128">This allows for entries to default to a time source if one isn't specified.</span></span> |
|<span data-ttu-id="6a2f2-129">Tipus d'origen del temps [origen del temps: sourcetype]</span><span class="sxs-lookup"><span data-stu-id="6a2f2-129">Time Source Type [Time Source: sourcetype]</span></span> | <span data-ttu-id="6a2f2-130">El tipus d'origen és una opció (tipus d'origen d'entrada de temps) que permet l'associació de l'origen del temps a una aplicació.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-130">The source type is an option (Time Entry Source Type) that allows for the association of the time source to an app.</span></span> <span data-ttu-id="6a2f2-131">Microsoft es reserva els valors superiors a 190.000.000.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-131">Microsoft reserves values greater than 190,000,000.</span></span>|


### <a name="time-entries-and-the-time-source-entity"></a><span data-ttu-id="6a2f2-132">Entrades de temps i entitat d'origen de temps</span><span class="sxs-lookup"><span data-stu-id="6a2f2-132">Time entries and the Time source entity</span></span>
<span data-ttu-id="6a2f2-133">Cada entrada de temps està associada a un registre d'origen de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-133">Each time entry is associated to a time source record.</span></span> <span data-ttu-id="6a2f2-134">Aquest registre determina la manera i quines aplicacions han de processar l'entrada de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-134">This record determines how and which applications should process the time entry.</span></span>

<span data-ttu-id="6a2f2-135">Les entrades de temps són sempre un bloc contigu de temps amb l'inici, la finalització i la duració enllaçats.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-135">Time entries are always one contiguous block of time with the start, end, and duration linked.</span></span>

<span data-ttu-id="6a2f2-136">La lògica actualitzarà automàticament el registre d'entrada de temps en les situacions següents:</span><span class="sxs-lookup"><span data-stu-id="6a2f2-136">The logic will automatically update the time entry record in the following situations:</span></span>

- <span data-ttu-id="6a2f2-137">Si es proporcionen dos dels tres camps següents, el tercer es calcula automàticament.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-137">If two of the three following fields are provided, the third is calculated automatically:</span></span> 

    - <span data-ttu-id="6a2f2-138">**msdyn_start**</span><span class="sxs-lookup"><span data-stu-id="6a2f2-138">**msdyn_start**</span></span>
    - <span data-ttu-id="6a2f2-139">**msdyn_end**</span><span class="sxs-lookup"><span data-stu-id="6a2f2-139">**msdyn_end**</span></span>
    - <span data-ttu-id="6a2f2-140">**msdyn_duration**</span><span class="sxs-lookup"><span data-stu-id="6a2f2-140">**msdyn_duration**</span></span>

- <span data-ttu-id="6a2f2-141">Els camps **msdyn_start** i **msdyn_end** tenen en compte la zona horària.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-141">The fields, **msdyn_start** and **msdyn_end** are timezone aware.</span></span>
- <span data-ttu-id="6a2f2-142">Les entrades de temps creades amb només **msdyn_date** i **msdyn_duration** especificats s'iniciaran a mitjanit.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-142">Time entries created with only **msdyn_date** and **msdyn_duration** specified will start at midnight.</span></span> <span data-ttu-id="6a2f2-143">Els camps **msdyn_start** i **msdyn_end** s'actualitzaran en conseqüència.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-143">The **msdyn_start** and **msdyn_end** fields will update accordingly.</span></span>

#### <a name="time-entry-types"></a><span data-ttu-id="6a2f2-144">Tipus d'entrada de temps</span><span class="sxs-lookup"><span data-stu-id="6a2f2-144">Time entry types</span></span>

<span data-ttu-id="6a2f2-145">Els registres d'entrada de temps tenen un tipus associat que defineix el comportament del flux d'enviament de l'aplicació associada.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-145">Time entry records have an associated type that defines the behavior in the submission flow for the associated application.</span></span>

|<span data-ttu-id="6a2f2-146">Etiqueta</span><span class="sxs-lookup"><span data-stu-id="6a2f2-146">Label</span></span> | <span data-ttu-id="6a2f2-147">Valor</span><span class="sxs-lookup"><span data-stu-id="6a2f2-147">Value</span></span>|
|-----|-----|
|<span data-ttu-id="6a2f2-148">En una pausa</span><span class="sxs-lookup"><span data-stu-id="6a2f2-148">On break</span></span>   |<span data-ttu-id="6a2f2-149">192,355,000</span><span class="sxs-lookup"><span data-stu-id="6a2f2-149">192,355,000</span></span>|
|<span data-ttu-id="6a2f2-150">Viatge</span><span class="sxs-lookup"><span data-stu-id="6a2f2-150">Travel</span></span> | <span data-ttu-id="6a2f2-151">192,355,001</span><span class="sxs-lookup"><span data-stu-id="6a2f2-151">192,355,001</span></span>|
|<span data-ttu-id="6a2f2-152">Hores extra</span><span class="sxs-lookup"><span data-stu-id="6a2f2-152">Overtime</span></span>   | <span data-ttu-id="6a2f2-153">192,354,320</span><span class="sxs-lookup"><span data-stu-id="6a2f2-153">192,354,320</span></span>|
|<span data-ttu-id="6a2f2-154">Treballa</span><span class="sxs-lookup"><span data-stu-id="6a2f2-154">Work</span></span>   | <span data-ttu-id="6a2f2-155">192,350,000</span><span class="sxs-lookup"><span data-stu-id="6a2f2-155">192,350,000</span></span>|
|<span data-ttu-id="6a2f2-156">Absència</span><span class="sxs-lookup"><span data-stu-id="6a2f2-156">Absence</span></span>    | <span data-ttu-id="6a2f2-157">192,350,001</span><span class="sxs-lookup"><span data-stu-id="6a2f2-157">192,350,001</span></span>|
|<span data-ttu-id="6a2f2-158">Vacances</span><span class="sxs-lookup"><span data-stu-id="6a2f2-158">Vacation</span></span>   | <span data-ttu-id="6a2f2-159">192,350,002</span><span class="sxs-lookup"><span data-stu-id="6a2f2-159">192,350,002</span></span>|



## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a><span data-ttu-id="6a2f2-160">Personalització del control d'entrada de temps setmanal</span><span class="sxs-lookup"><span data-stu-id="6a2f2-160">Customize the weekly Time entry control</span></span>
<span data-ttu-id="6a2f2-161">Els desenvolupadors poden afegir camps i cerques addicionals a altres entitats i implementar regles de negoci personalitzades per admetre els seus escenaris empresarials.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-161">Developers can add additional fields and lookups to other entities, and implement custom business rules to support their business scenarios.</span></span>

### <a name="add-custom-fields-with-lookups-to-other-entities"></a><span data-ttu-id="6a2f2-162">Afegir camps personalitzats amb cerques a altres entitats</span><span class="sxs-lookup"><span data-stu-id="6a2f2-162">Add custom fields with lookups to other entities</span></span>
<span data-ttu-id="6a2f2-163">Hi ha tres passos principals per afegir un camp personalitzat a la quadrícula d'entrada de temps setmanal.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-163">There are three main steps to adding a custom field to the weekly time entry grid.</span></span>

1. <span data-ttu-id="6a2f2-164">Afegiu el camp personalitzat al quadre de diàleg de creació ràpida.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-164">Add the custom field to the quick create dialog box.</span></span>
2. <span data-ttu-id="6a2f2-165">Configureu la quadrícula per mostrar el camp personalitzat.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-165">Configure the grid to show the custom field.</span></span>
3. <span data-ttu-id="6a2f2-166">Afegiu el camp personalitzat al flux de la tasca d'edició de la fila o el flux de la tasca d'edició de la cel·la.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-166">Add the custom field to the row edit task flow or the cell edit task flow.</span></span>

<span data-ttu-id="6a2f2-167">Assegureu-vos que el camp nou tingui les validacions necessàries al flux de la tasca d'edició de la fila o de la cel·la.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-167">Make sure that the new field has the required validations in the row or cell edit task flow.</span></span> <span data-ttu-id="6a2f2-168">Com a part d'aquest pas, bloqueu el camp, segons l'estat de l'entrada de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-168">As part of this step, lock the field based on the time entry status.</span></span>

### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a><span data-ttu-id="6a2f2-169">Afegir el camp personalitzat al quadre de diàleg de creació ràpida</span><span class="sxs-lookup"><span data-stu-id="6a2f2-169">Add the custom field to the quick create dialog box</span></span>
<span data-ttu-id="6a2f2-170">Afegiu el camp personalitzat al quadre de diàleg **Creació ràpida d'entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-170">Add the custom field to the **Create Time Entry Quick Create** dialog box.</span></span> <span data-ttu-id="6a2f2-171">Llavors, quan s'afegeixen entrades de temps, podeu introduir un valor seleccionant **Nova**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-171">Then, when time entries are added, a value can be entered by selecting **New**.</span></span>

### <a name="configure-the-grid-to-show-the-custom-field"></a><span data-ttu-id="6a2f2-172">Configurar la quadrícula per mostrar el camp personalitzat</span><span class="sxs-lookup"><span data-stu-id="6a2f2-172">Configure the grid to show the custom field</span></span>
<span data-ttu-id="6a2f2-173">Hi ha dues maneres d'afegir un camp personalitzat a la quadrícula d'entrada de temps setmanal:</span><span class="sxs-lookup"><span data-stu-id="6a2f2-173">There are two ways add a custom field to the weekly time entry grid:</span></span>

  - <span data-ttu-id="6a2f2-174">Personalitzar una visualització i afegir un camp personalitzat</span><span class="sxs-lookup"><span data-stu-id="6a2f2-174">Customize a view and add a custom field</span></span>
  - <span data-ttu-id="6a2f2-175">Crea una entrada de temps personalitzada per defecte nova</span><span class="sxs-lookup"><span data-stu-id="6a2f2-175">Create a new default custom time entry</span></span> 


#### <a name="customize-a-view-and-add-a-custom-field"></a><span data-ttu-id="6a2f2-176">Personalitzar una visualització i afegir un camp personalitzat</span><span class="sxs-lookup"><span data-stu-id="6a2f2-176">Customize a view and add a custom field</span></span>

<span data-ttu-id="6a2f2-177">Personalitzeu la visualització **Les meves entrades de temps setmanal** i afegir-hi el camp personalitzat.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-177">Customize the **My Weekly Time Entries** view and add the custom field to it.</span></span> <span data-ttu-id="6a2f2-178">Podeu triar la posició i la mida del camp personalitzat a la quadrícula editant aquestes propietats a la visualització.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-178">You can choose the position and size of the custom field in the grid by editing the properties in the view.</span></span>

#### <a name="create-a-new-default-custom-time-entry"></a><span data-ttu-id="6a2f2-179">Crea una entrada de temps personalitzada per defecte nova</span><span class="sxs-lookup"><span data-stu-id="6a2f2-179">Create a new default custom time entry</span></span>

<span data-ttu-id="6a2f2-180">Aquesta visualització hauria de contenir els camps **Descripció** i **Comentaris externs**, a més de les columnes que voleu tenir a la quadrícula.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-180">This view should contain the **Description** and **External Comments** fields, in addition to the columns that you want to have in the grid.</span></span> 

1. <span data-ttu-id="6a2f2-181">Trieu la posició, la mida i l'ordre per defecte de la quadrícula editant aquestes propietats a la visualització.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-181">Choose the position, size, and default sort order of the grid by editing those properties in the view.</span></span> 
2. <span data-ttu-id="6a2f2-182">Configureu el control personalitzat per a aquesta visualització per tal que sigui un control **Quadrícula d'entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-182">Configure the custom control for this view so that it's a **Time Entry Grid** control.</span></span> 
3. <span data-ttu-id="6a2f2-183">Afegiu aquest control a la visualització i seleccioneu-lo per a la web, telèfons i tauletes.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-183">Add this control to the view, and select it for web, phone, and tablet.</span></span> 
4. <span data-ttu-id="6a2f2-184">Configureu els paràmetres per a la quadrícula d'entrada de temps setmanal.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-184">Configure the parameters for the weekly time entry grid.</span></span> 
5. <span data-ttu-id="6a2f2-185">Definiu el camp **Data d'Inici** a **msdyn_date**, definiu el camp **Duració** a **msdyn_duration** i definiu el camp **Estat** a **msdyn_entrystatus**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-185">Set the **Start Date** field to **msdyn_date**, set the **Duration** field to **msdyn_duration**, and set the **Status** field to **msdyn_entrystatus**.</span></span> 
6. <span data-ttu-id="6a2f2-186">Per a la visualització per defecte, el camp **Llista d'estat de només lectura** s'estableix a **192350002,19235003,192350004**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-186">For the default view, the **Read-only Status List** field is set to **192350002,192350003,192350004**.</span></span> <span data-ttu-id="6a2f2-187">El camp **Flux de tasca d'edició de fila** s'estableix a **msdyn_timeentryrowedit**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-187">The **Row Edit Task Flow** field is set to **msdyn_timeentryrowedit**.</span></span> <span data-ttu-id="6a2f2-188">El camp **Flux de tasca d'edició de cel·la** s'estableix a **msdyn_timeentryedit**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-188">The **Cell Edit Task Flow** field is set to **msdyn_timeentryedit**.</span></span> 
7. <span data-ttu-id="6a2f2-189">Podeu personalitzar aquests camps per afegir o suprimir l'estat de només de lectura o per utilitzar una altra experiència basada en tasques (TBX) per a la fila o l'edició de la cel·la.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-189">You can customize these fields to add or remove read-only status, or to use a different task-based experience (TBX) for row or cell editing.</span></span> <span data-ttu-id="6a2f2-190">Aquests camps estan ara enllaçats a un valor estàtic.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-190">These fields are now bound to a static value.</span></span>


> [!NOTE] 
> <span data-ttu-id="6a2f2-191">Ambdues opcions retiraran alguns filtres de fàbrica de les entitats **Projecte** i **Tasca de projecte**, de manera que es veuran totes les visualitzacions de cerca per a les entitats.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-191">Both options will remove some out-of-box filtering on the **Project** and **Project Task** entities so that all lookup views for the entities will be visible.</span></span> <span data-ttu-id="6a2f2-192">De fàbrica, només es veuen les visualitzacions de cerca rellevants.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-192">Out-of-the-box, only the relevant lookup views are visible.</span></span>

<span data-ttu-id="6a2f2-193">Determineu el flux de la tasca adient per al camp personalitzat.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-193">Determine the appropriate task flow for the custom field.</span></span> <span data-ttu-id="6a2f2-194">Si heu afegit el camp a la quadrícula, hauria d'anar al flux de la tasca d'edició de files que s'utilitza per als camps que s'apliquen a tota la fila d'entrades de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-194">If you added the field to the grid, it should go in the row edit task flow that is used for fields that apply to the whole row of time entries.</span></span> <span data-ttu-id="6a2f2-195">Si el camp personalitzat té un valor únic cada dia, com ara un camp personalitzat per a l'**Hora d'acabament**, hauria d'anar al flux de la tasca d'edició de cel·les.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-195">If the custom field has a unique value every day, such as a custom field for **End time**, it should go in the cell edit task flow.</span></span>

<span data-ttu-id="6a2f2-196">Per afegir el camp personalitzat a un flux de la tasca, arrossegueu un element **Camp** a la posició adient de la pàgina i, a continuació, definiu les propietats del camp.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-196">To add the custom field to a task flow, drag a **Field** element into the appropriate position on the page, and then set the field properties.</span></span> <span data-ttu-id="6a2f2-197">Definiu la propietat **Origen** a **Entrada de temps** i definiu la propietat **Camp de dades** al camp personalitzat.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-197">Set the **Source** property to **Time Entry**, and set the **Data Field** property to the custom field.</span></span> <span data-ttu-id="6a2f2-198">La propietat **Camp** especifica el nom de visualització a la pàgina de TBX.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-198">The **Field** property specifies the display name on the TBX page.</span></span> <span data-ttu-id="6a2f2-199">Seleccioneu **Aplica** per desar els canvis al camp i, a continuació, seleccioneu **Actualitza** per desar els canvis a la pàgina.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-199">Select **Apply** to save your changes to the field, and then select **Update** to save your changes to the page.</span></span>

<span data-ttu-id="6a2f2-200">Per utilitzar una nova pàgina personalitzada de TBX en el seu lloc, creeu un procés nou.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-200">To use a new custom TBX page instead, create a new process.</span></span> <span data-ttu-id="6a2f2-201">Definiu la categoria a **Flux del procés de negoci**, definiu l'entitat a **Entrada d'hora** i definiu el tipus de procés de negoci a **Executa el procés com a flux de la tasca**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-201">Set the category to **Business Process Flow**, set the entity to **Time Entry**, and set the business process type to **Run process as a task flow**.</span></span> <span data-ttu-id="6a2f2-202">A **Propietats**, la propietat **Nom de la pàgina** s'ha de definir al nom de visualització de la pàgina.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-202">Under **Properties**, the **Page name** property should be set to the display name for the page.</span></span> <span data-ttu-id="6a2f2-203">Afegiu tots els camps corresponents a la pàgina de TBX.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-203">Add all the relevant fields to the TBX page.</span></span> <span data-ttu-id="6a2f2-204">Deseu i activeu el procés.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-204">Save and activate the process.</span></span> <span data-ttu-id="6a2f2-205">Actualitzeu la propietat del control personalitzat del flux de la tasca rellevant al valor **Nom** del procés.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-205">Update the custom control property for the relevant task flow to the value of **Name** on the process.</span></span>

### <a name="add-new-option-set-values"></a><span data-ttu-id="6a2f2-206">Afegir nous valors de conjunts d'opcions</span><span class="sxs-lookup"><span data-stu-id="6a2f2-206">Add new option set values</span></span>
<span data-ttu-id="6a2f2-207">Per afegir valors de conjunt d'opcions a un camp de fàbrica, obriu la pàgina d'edició del camp i, a continuació, a **Tipus**, seleccioneu **Edita** al costat del conjunt d'opcions.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-207">To add option set values to an out-of-the-box field, open the editing page for the field, and under **Type**, select **Edit** next to the option set.</span></span> <span data-ttu-id="6a2f2-208">Afegiu una opció nova que tingui una etiqueta i un color personalitzats.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-208">Add a new option that has a custom label and color.</span></span> <span data-ttu-id="6a2f2-209">Si voleu afegir un nou estat de l'entrada de temps, el camp de fàbrica es diu **Estat de l'entrada**, no **Estat**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-209">If you want to add a new time entry status, the out-of-the-box field is named **Entry Status**, not **Status**.</span></span>

### <a name="designate-a-new-time-entry-status-as-read-only"></a><span data-ttu-id="6a2f2-210">Designar un nou estat d'entrada de temps com a només de lectura</span><span class="sxs-lookup"><span data-stu-id="6a2f2-210">Designate a new time entry status as read-only</span></span>
<span data-ttu-id="6a2f2-211">Per designar un nou estat d'entrada de temps com a només de lectura, afegiu el nou valor d'entrada de temps a la propietat **Llista d'estat de només de lectura**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-211">To designate a new time entry status as read-only, add the new time entry value to the **Read-only Status List** property.</span></span> <span data-ttu-id="6a2f2-212">La part editable de la quadrícula d'entrada de temps es bloquejarà per a les files que tenen l'estat nou.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-212">The editable part of the time entry grid will be locked for rows that have the new status.</span></span>
<span data-ttu-id="6a2f2-213">A continuació, afegiu regles de negoci per blocar tots els camps de les pàgines de TBX **Edició de les files d'entrades de temps** i **Edició d'entrades de temps**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-213">Next, add business rules to lock all the fields on the **Time Entry Row Edit** and **Time Entry Edit** TBX pages.</span></span> <span data-ttu-id="6a2f2-214">Podeu accedir a les regles de negoci d'aquestes pàgines obrint l'editor del flux del procés de negoci de la pàgina i,a continuació, seleccionant **Regles de negoci**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-214">You can access the business rules for these pages by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="6a2f2-215">Podeu afegir l'estat nou a la condició en les regles de negocis existents o bé afegir una regla de negocis nova per a l'estat nou.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-215">You can add the new status to the condition in the existing business rules, or you can add a new business rule for the new status.</span></span>

### <a name="add-custom-validation-rules"></a><span data-ttu-id="6a2f2-216">Afegir regles de validació personalitzades</span><span class="sxs-lookup"><span data-stu-id="6a2f2-216">Add custom validation rules</span></span>
<span data-ttu-id="6a2f2-217">Hi ha dos tipus de regles de validació que podeu afegir per a l'experiència de quadrícula d'entrada de temps setmanal:</span><span class="sxs-lookup"><span data-stu-id="6a2f2-217">There are two types of validation rules that you can add for the weekly time entry grid experience:</span></span>

- <span data-ttu-id="6a2f2-218">Regles de negoci del client que funcionen en quadres de diàleg de creació ràpida i a les pàgines de TBX.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-218">Client-side business rules that work in quick create dialog boxes and on TBX pages.</span></span>
- <span data-ttu-id="6a2f2-219">Validacions del connector del costat del servidor que s'apliquen a totes les actualitzacions d'entrada de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-219">Server-side plug-in validations that apply to all time entry updates.</span></span>

#### <a name="business-rules"></a><span data-ttu-id="6a2f2-220">Regles de negocis</span><span class="sxs-lookup"><span data-stu-id="6a2f2-220">Business rules</span></span>
<span data-ttu-id="6a2f2-221">Utilitzeu regles de negoci per bloquejar i desbloquejar camps, introduir valors per defecte als camps i definir validacions que requereixin informació del registre d'entrada de temps actual.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-221">Use business rules to lock and unlock fields, enter default values in fields, and define validations that require information only from the current time entry record.</span></span> <span data-ttu-id="6a2f2-222">Podeu accedir a les regles de negoci d'una pàgina de TBX obrint l'editor del flux del procés de negoci de la pàgina i, a continuació, seleccionant **Regles de negoci**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-222">You can access the business rules for a TBX page by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="6a2f2-223">A continuació, podeu editar les regles de negocis existents o afegir una regla de negocis nova.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-223">You can then edit the existing business rules or add a new business rule.</span></span> <span data-ttu-id="6a2f2-224">Per a validacions encara més personalitzades, podeu fer que una regla de negocis executi JavaScript.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-224">For even more customized validations, you can use a business rule to run JavaScript.</span></span>

#### <a name="plug-in-validations"></a><span data-ttu-id="6a2f2-225">Validacions de complement</span><span class="sxs-lookup"><span data-stu-id="6a2f2-225">Plug-in validations</span></span>
<span data-ttu-id="6a2f2-226">Utilitzeu validacions de complements per a totes les validacions que requereixin un context més ampli que el disponible en un registre de temps únic o per a totes les validacions que voleu executar en actualitzacions en línia a la quadrícula.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-226">Use plug-in validations for any validations that require more context than is available in a single time entry record, or for any validations that you want to run on inline updates in the grid.</span></span> <span data-ttu-id="6a2f2-227">Per completar la validació, creeu un complement personalitzat a l'entitat **Entrada de temps**.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-227">To complete the validation, create a custom plug-in on the **Time Entry** entity.</span></span>

### <a name="copying-time-entries"></a><span data-ttu-id="6a2f2-228">Còpia d'entrades de temps</span><span class="sxs-lookup"><span data-stu-id="6a2f2-228">Copying time entries</span></span>
<span data-ttu-id="6a2f2-229">Utilitzeu la visualització **Còpia de columnes d'entrada de temps** per definir la llista de camps que es copiaran durant l'entrada de temps.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-229">Use the view **Copy Time Entry Columns** to define the list of fields to copy during time entry.</span></span> <span data-ttu-id="6a2f2-230">**Data** i **Duració** són camps obligatoris i no s'han d'eliminar de la visualització.</span><span class="sxs-lookup"><span data-stu-id="6a2f2-230">**Date** and **Duration** are required fields and shouldn't be removed from the view.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]