---
title: "Consideracions d'actualització: de la versió 2.x o 1.x a la versió 3 del Microsoft Dynamics 365 Project Service Automation"
description: En aquest tema es proporciona informació sobre les consideracions que heu de fer en actualitzar des de la versió 2.x o 1.x a la versió 3 del Project Service Automation.
manager: kfend
ms.prod: ''
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: ff0777705c6d0e2c0d8aa4ed191f4ae6b1786100
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: ca-ES
ms.lasthandoff: 02/15/2021
ms.locfileid: "5281646"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="97c32-103">Consideracions d'actualització - Versió 2.x o 1.x del PSA a la versió 3</span><span class="sxs-lookup"><span data-stu-id="97c32-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="97c32-104">Project Service Automation i Field Service</span><span class="sxs-lookup"><span data-stu-id="97c32-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="97c32-105">Tant el Dynamics 365 Project Service Automation com el Dynamics 365 Field Service utilitzen la solució Universal Resource Scheduling (URS) per a la planificació de recursos.</span><span class="sxs-lookup"><span data-stu-id="97c32-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="97c32-106">Si teniu el Project Service Automation i el Field Service a la vostra instància, actualitzeu totes dues solucions a la versió més recent.</span><span class="sxs-lookup"><span data-stu-id="97c32-106">If you have Project Service Automation and Field Service in your instance, upgrade both solutions to the latest version.</span></span> <span data-ttu-id="97c32-107">Per al Project Service Automation, és la versió 3.x.</span><span class="sxs-lookup"><span data-stu-id="97c32-107">For Project Service Automation, that is version 3.x.</span></span> <span data-ttu-id="97c32-108">Per al Field Service, és la versió 8.x.</span><span class="sxs-lookup"><span data-stu-id="97c32-108">For Field Service, it is version 8.x.</span></span> <span data-ttu-id="97c32-109">L'actualització de Project Service Automation o el Field Service instal·larà l'última versió de l'URS.</span><span class="sxs-lookup"><span data-stu-id="97c32-109">Upgrading Project Service Automation or Field Service will install the latest version of URS.</span></span> <span data-ttu-id="97c32-110">Si totes dues solucions del Project Service Automation i del Field Service de la mateixa instància no s'actualitzen a la versió més recent, pot ser que hi hagi algun comportament inconsistent.</span><span class="sxs-lookup"><span data-stu-id="97c32-110">If both the Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version, there might be some inconsistent behavior.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="97c32-111">Assignacions de recursos</span><span class="sxs-lookup"><span data-stu-id="97c32-111">Resource assignments</span></span>
<span data-ttu-id="97c32-112">A la versió 2 i la versió 1 del Project Service Automation, les assignacions de tasques es desaven com a tasques secundàries (també anomenades tasques de línia) a l'entitat **Tasca** i indirectament relacionades amb l'entitat **Assignació de recursos**.</span><span class="sxs-lookup"><span data-stu-id="97c32-112">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="97c32-113">La tasca de línia estava visible a la finestra emergent de l'assignació a l'estructura del desglossament del treball (WBS).</span><span class="sxs-lookup"><span data-stu-id="97c32-113">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Tasques de línia al WBS a la versió 2 i a la versió 1 del Project Service Automation](media/upgrade-line-task-01.png)

<span data-ttu-id="97c32-115">A la versió 3 del Project Service Automation, l'esquema subjacent d'assignar recursos que es poden reservar a tasques ha canviat.</span><span class="sxs-lookup"><span data-stu-id="97c32-115">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="97c32-116">La tasca de línia és obsoleta i hi ha una relació directa 1:1 entre la tasca a l'entitat **Tasca** i el membre de l 'equip a l'entitat **Assignació de recursos**.</span><span class="sxs-lookup"><span data-stu-id="97c32-116">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="97c32-117">Les tasques assignades a un membre d'equip del projecte ara s'emmagatzemen directament a l'entitat Assignació de recursos.</span><span class="sxs-lookup"><span data-stu-id="97c32-117">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="97c32-118">Aquests canvis afecten l'actualització de tots els projectes existents que tenen assignacions de recursos per a recursos que es poden reservar amb nom i recursos genèrics en un equip del projecte.</span><span class="sxs-lookup"><span data-stu-id="97c32-118">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="97c32-119">En aquest tema es proporcionen les consideracions que haureu de tenir en compte per als projectes en què actualitzeu a la versió 3.</span><span class="sxs-lookup"><span data-stu-id="97c32-119">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="97c32-120">Tasques assignades a recursos amb nom</span><span class="sxs-lookup"><span data-stu-id="97c32-120">Tasks assigned to named resources</span></span>
<span data-ttu-id="97c32-121">Amb l'entitat de la tasca subjacent, les tasques de la versió 2 i la versió 1 permetien que els membres de l'equip representessin una funció que no fos la seva funció definida per defecte.</span><span class="sxs-lookup"><span data-stu-id="97c32-121">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="97c32-122">Per exemple, la Jana Jorba, que per defecte està assignada a la funció d'administradora de programa, podria assignar-se a una tasca amb la funció de desenvolupadora.</span><span class="sxs-lookup"><span data-stu-id="97c32-122">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="97c32-123">A la versió 3, la funció d'un membre de l'equip amb nom és sempre el valor per defecte, per la qual cosa qualsevol tasca a la qual s'assigni la Jana Jorba utilitza la funció per defecte de la Jana d'administradora de programes.</span><span class="sxs-lookup"><span data-stu-id="97c32-123">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses Gracie's default role of Program Manager.</span></span>

<span data-ttu-id="97c32-124">Si heu assignat un recurs a una tasca fora de la seva funció per defecte a la versió 2 i a la versió 1, en actualitzar, el recurs amb nom s'assignarà la funció per defecte per a totes les assignacions de tasques, independentment de l'assignació de funcions a la versió 2.</span><span class="sxs-lookup"><span data-stu-id="97c32-124">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="97c32-125">Aquesta assignació dona com a resultat diferències en les estimacions calculades des de la versió 2 o la versió 1 a la versió 3 perquè les estimacions es calculen en funció de la funció del recurs i no de l'assignació de tasques de línia.</span><span class="sxs-lookup"><span data-stu-id="97c32-125">This assignment results in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="97c32-126">Per exemple, a la versió 2, s'assignen dues tasques a la Cèlia Canal.</span><span class="sxs-lookup"><span data-stu-id="97c32-126">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="97c32-127">La funció a la tasca de línia per a la tasca 1 és desenvolupador i per a la tasca 2, administrador de programes.</span><span class="sxs-lookup"><span data-stu-id="97c32-127">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="97c32-128">La Cèlia Canal té la funció per defecte d'administradora de programes.</span><span class="sxs-lookup"><span data-stu-id="97c32-128">Ashley Chinn has the default role of Program Manager.</span></span>

![Diverses funcions assignades a un recurs](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="97c32-130">Com que les funcions de desenvolupador i administrador de programes són diferents, les estimacions de cost i vendes són les següents:</span><span class="sxs-lookup"><span data-stu-id="97c32-130">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Estimacions de costos per a funcions de recursos](media/upggrade-cost-estimates-03.png)

![Estimacions de vendes per a funcions de recursos](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="97c32-133">Quan actualitzeu a la versió 3, les tasques de línia se substitueixen per assignacions de recursos a la tasca del membre de l'equip de recursos que es pot reservar.</span><span class="sxs-lookup"><span data-stu-id="97c32-133">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="97c32-134">L'assignació utilitzarà la funció per defecte del recurs que es pot reservar.</span><span class="sxs-lookup"><span data-stu-id="97c32-134">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="97c32-135">En el gràfic, la Cèlia Canal, que té una funció d'administradora de programes, és el recurs.</span><span class="sxs-lookup"><span data-stu-id="97c32-135">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Assignacions de recursos](media/resource-assignment-v2-05.png)

<span data-ttu-id="97c32-137">Com que les estimacions es basen en la funció per defecte del recurs, les estimacions de vendes i de costos poden canviar.</span><span class="sxs-lookup"><span data-stu-id="97c32-137">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="97c32-138">Al gràfic següent ja no veureu la funció **Desenvolupador** ja que la funció ara s'agafa de la funció per defecte del recurs que es pot reservar.</span><span class="sxs-lookup"><span data-stu-id="97c32-138">In the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="97c32-139">![Estimacions de costos per a funcions per defecte](media/resource-assignment-cost-estimate-06.png)
![Estimació de vendes per a funcions per defecte](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="97c32-139">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="97c32-140">Quan s'hagi completat l'actualització, podeu editar la funció del membre d'un equip perquè sigui diferent de l'assignada per defecte.</span><span class="sxs-lookup"><span data-stu-id="97c32-140">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="97c32-141">No obstant això, si canvieu la funció dels membres de l'equip, es canviarà en totes les tasques assignades perquè als membres de l'equip no es poden assignar funcions múltiples a la versió 3.</span><span class="sxs-lookup"><span data-stu-id="97c32-141">However, if you change a team members role, it will be changed on all of their assigned tasks because team members can't be assigned multiple roles in version 3.</span></span>

![Actualitzar una funció de recurs](media/resource-role-assignment-08.png)

<span data-ttu-id="97c32-143">Això també és vàlid per a les tasques de línia assignades a recursos amb nom quan canvieu la unitat de l'organització del recurs de la per defecte a una altra unitat d'organització.</span><span class="sxs-lookup"><span data-stu-id="97c32-143">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="97c32-144">Quan l'actualització a la versió 3 s'hagi completat, l'assignació utilitzarà la unitat organitzativa per defecte del recurs en comptes de l'establerta a la tasca de línia.</span><span class="sxs-lookup"><span data-stu-id="97c32-144">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="97c32-145">Tasques assignades a recursos genèrics</span><span class="sxs-lookup"><span data-stu-id="97c32-145">Tasks assigned to generic resources</span></span>
<span data-ttu-id="97c32-146">A la versió 2 i a la versió 1, podeu definir la funció i la unitat organitzativa en una tasca i, a continuació, utilitzar la característica **Genera un equip** per generar recursos genèrics basats en els atributs definits a la tasca.</span><span class="sxs-lookup"><span data-stu-id="97c32-146">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="97c32-147">A la versió 3, creeu els membres de l'equip genèric amb la funció i unitat organitzativa i, a continuació, assigneu els membres de l'equip a tasques.</span><span class="sxs-lookup"><span data-stu-id="97c32-147">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="97c32-148">A la versió 2 i la versió 1, els projectes amb recursos genèrics poden estar en dos estats o una combinació de tots dos al nivell de la tasca.</span><span class="sxs-lookup"><span data-stu-id="97c32-148">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="97c32-149">Per exemple, podeu tenir els escenaris següents:</span><span class="sxs-lookup"><span data-stu-id="97c32-149">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="97c32-150">Tasques amb funcions i unitats organitzatives definides, però no s'ha generat cap assignació de recursos afiliats.</span><span class="sxs-lookup"><span data-stu-id="97c32-150">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="97c32-151">Tasques amb assignacions de recursos dels membres de l'equip genèric que s'han assignat creant recursos genèrics mitjançant la característica **Genera un equip**.</span><span class="sxs-lookup"><span data-stu-id="97c32-151">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="97c32-152">Abans de començar l'actualització, us recomanem que torneu a generar l'equip de cada projecte que tingui les tasques assignades als recursos genèrics o per al qual encara no s'ha executat el procés de generació de l'equip.</span><span class="sxs-lookup"><span data-stu-id="97c32-152">Before you begin your upgrade, we recommend that you regenerate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="97c32-153">Per a les tasques assignades a membres de l'equip genèric que es van generar amb **Genera un equip**, l'actualització deixarà el recurs genèric a l'equip i deixarà l'assignació al membre de l'equip genèric.</span><span class="sxs-lookup"><span data-stu-id="97c32-153">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="97c32-154">Us recomanem que genereu el requisit de recurs per al membre de l'equip genèric després de l'actualització, però abans de reservar o enviar una sol·licitud de recurs.</span><span class="sxs-lookup"><span data-stu-id="97c32-154">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="97c32-155">Això conservarà qualsevol assignació d'unitat organitzativa als membres de l'equip genèric que són diferents a la unitat organitzativa de contractació del projecte.</span><span class="sxs-lookup"><span data-stu-id="97c32-155">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="97c32-156">Per exemple, en el projecte Projecte Z, la unitat organitzativa de contractació és Contoso US.</span><span class="sxs-lookup"><span data-stu-id="97c32-156">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="97c32-157">En el pla del projecte, a les tasques de prova dins de la fase d'implementació s'ha assignat el rol de consultor tècnic i la unitat organitzativa assignada és Contoso India.</span><span class="sxs-lookup"><span data-stu-id="97c32-157">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Assignació d'organització de la fase d'implementació](media/org-unit-assignment-09.png)

<span data-ttu-id="97c32-159">Després de la fase d'implementació, la tasca de prova d'integració s'assigna a la funció d'assessor tècnic, però l'organització es defineix com a Contoso US.</span><span class="sxs-lookup"><span data-stu-id="97c32-159">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Assignació d'organització de tasca de prova d'integració](media/org-unit-generate-team-10.png)

<span data-ttu-id="97c32-161">Quan genereu un equip per al projecte, es crearan dos membres de l'equip genèrics a causa de les diferents unitats organitzatives a les tasques.</span><span class="sxs-lookup"><span data-stu-id="97c32-161">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="97c32-162">L'assessor tècnic 1 s'assignarà a les tasques de Contoso India i l'assessor tècnic 2 tindrà les tasques de Contoso US.</span><span class="sxs-lookup"><span data-stu-id="97c32-162">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Membres de l'equip genèrics generats](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="97c32-164">A la versió 2 i la versió 1 del Project Service Automation, el membre de l'equip no té la unitat organitzativa, que es manté a la línia de tasques.</span><span class="sxs-lookup"><span data-stu-id="97c32-164">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Tasques de línia de la versió 2 i la versió 1 del Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="97c32-166">Podeu veure la unitat d'organització a la visualització d'estimacions.</span><span class="sxs-lookup"><span data-stu-id="97c32-166">You can see the organization unit on the estimates view.</span></span> 

![Estimacions d'unitat organitzativa](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="97c32-168">Quan l'actualització s'hagi completat, la unitat de l'organització a la tasca de línia que correspon al membre de l'equip genèric se suma al membre de l'equip genèric i la tasca de línia se suprimeix.</span><span class="sxs-lookup"><span data-stu-id="97c32-168">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="97c32-169">Per això, us recomanem que abans d'actualitzar, genereu o torneu a generar l'equip en cada projecte que conté recursos genèrics.</span><span class="sxs-lookup"><span data-stu-id="97c32-169">Because of this, we recommend that before you upgrade, you generate or regenerate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="97c32-170">Per a les tasques assignades a una funció amb una unitat organitzativa que difereix de la unitat organitzativa del projecte de contractació, i que no s'ha generat un equip, l'actualització crearà un membre genèric de l'equip per a la funció, però utilitzarà la unitat de contractació del projecte per al membre de l'equip de la unitat organitzativa.</span><span class="sxs-lookup"><span data-stu-id="97c32-170">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="97c32-171">Tornant a l'exemple amb el Projecte Z, la unitat organitzativa de contractació Contoso US i a les tasques de prova del pla del projecte dins de la fase d'implementació s'ha assignat el rol consultor tècnic amb la unitat organitzativa assignada a Contoso India.</span><span class="sxs-lookup"><span data-stu-id="97c32-171">Referring back to the example with Project Z, the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="97c32-172">La tasca de prova d'integració que es completa després de la fase d'implementació s'ha assignat a la funció d'assessor tècnic.</span><span class="sxs-lookup"><span data-stu-id="97c32-172">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="97c32-173">La unitat organitzativa és Contoso US i no s'ha generat un equip.</span><span class="sxs-lookup"><span data-stu-id="97c32-173">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="97c32-174">L'actualització crearà un membre genèric de l'equip, un consultor tècnic que té les hores assignades de les tres tasques i una unitat organitzativa de Contoso US, la unitat organitzativa de contractació del projecte.</span><span class="sxs-lookup"><span data-stu-id="97c32-174">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="97c32-175">Canviar el valor per defecte de les diferents unitats organitzatives de recursos en els membres de l'equip no generats és la raó per la que recomanem que genereu o torneu a generar l'equip en cada projecte que conté recursos genèrics abans de l'actualització, de manera que les assignacions d'unitats organitzatives no es perdin.</span><span class="sxs-lookup"><span data-stu-id="97c32-175">Changing the default of the different resourcing org units on ungenerated team members is the reason we recommend that you generate or regenerate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>



[!INCLUDE[footer-include](../includes/footer-banner.md)]